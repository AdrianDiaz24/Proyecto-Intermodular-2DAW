âœ… COMENTARIOS EN INCIDENCIAS - CONFIGURADO Y LISTO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š NUEVA TABLA CREADA: comentarios_incidencias

Estructura:
- id: ID Ãºnico del comentario
- contenido: El texto del comentario
- incidencia_id: Incidencia a la que pertenece
- usuario_id: Usuario que hizo el comentario
- es_solucion: Boolean (si es una soluciÃ³n o solo comentario)
- created_at: Fecha de creaciÃ³n
- updated_at: Fecha de Ãºltima actualizaciÃ³n

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— ENDPOINTS DE COMENTARIOS:

Crear comentario:
POST /api/comentarios-incidencias
{
  "contenido": "El TV parpadea al encender",
  "incidenciaId": 1,
  "usuarioId": 1,
  "esSolucion": false
}

Obtener comentarios de una incidencia:
GET /api/comentarios-incidencias/incidencia/{incidenciaId}

Obtener comentarios del usuario:
GET /api/comentarios-incidencias/usuario/{usuarioId}

Actualizar comentario:
PUT /api/comentarios-incidencias/{id}
{
  "contenido": "Nuevo contenido",
  "esSolucion": true
}

Eliminar comentario:
DELETE /api/comentarios-incidencias/{id}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FLUJO DE COMENTARIOS EN INCIDENCIAS:

1. Usuario registra un producto
2. Usuario reporta una incidencia sobre el producto
3. Usuario o tÃ©cnico COMENTA en la incidencia
   - Puede ser un comentario normal
   - O puede marcar como "esSolucion: true"
4. Otros usuarios ven los comentarios
5. Si alguien proporciona soluciÃ³n, se marca como esSolucion=true
6. Todo se guarda en CleverCloud MySQL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª PROBANDO EN test-cleverclouD.html:

1. Registra un usuario
2. Haz login
3. Crea un producto (se asigna ID automÃ¡tico)
4. Crea una incidencia (se asigna ID automÃ¡tico)
5. En la secciÃ³n "Comentarios en Incidencias":
   - Ingresa el ID de la incidencia creada
   - Escribe un comentario
   - Haz click en "AÃ±adir Comentario"
6. El comentario se guarda en CleverCloud MySQL
7. Haz click en "Ver Comentarios" para verlos listados

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¬ DATOS QUE SE GUARDAN:

Comentario:
{
  "id": 1,
  "contenido": "El TV parpadea al encender, necesita servicio",
  "incidenciaId": 1,
  "usuarioId": 1,
  "esSolucion": false,
  "usuario": {
    "id": 1,
    "username": "juan",
    "email": "juan@example.com"
  },
  "createdAt": "2026-02-02T10:00:00",
  "updatedAt": "2026-02-02T10:00:00"
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ESTRUCTURA COMPLETA DE UNA INCIDENCIA CON COMENTARIOS:

Incidencia:
{
  "id": 1,
  "titulo": "TV no enciende",
  "descripcion": "El TV no responde al botÃ³n de encendido",
  "categoria": "FUNCIONALIDAD",
  "severidad": "ALTO",
  "estado": "ABIERTA",
  "productoId": 1,
  "usuarioId": 1,
  "createdAt": "2026-02-02T09:00:00",
  "comentarios": [
    {
      "id": 1,
      "contenido": "El TV parpadea al encender",
      "usuarioId": 1,
      "esSolucion": false,
      "createdAt": "2026-02-02T09:30:00"
    },
    {
      "id": 2,
      "contenido": "Intenta desconectar 5 minutos y reconectar",
      "usuarioId": 2,
      "esSolucion": true,
      "createdAt": "2026-02-02T10:00:00"
    }
  ]
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ CARACTERÃSTICAS:

âœ… Comentarios enlazados a incidencias
âœ… Cada comentario sabe quiÃ©n lo escribiÃ³ (usuario_id)
âœ… Se pueden marcar como soluciÃ³n (es_solucion=true)
âœ… Se guardan automÃ¡ticamente en CleverCloud MySQL
âœ… Se cargan cuando consultamos una incidencia
âœ… Timestamp de creaciÃ³n y actualizaciÃ³n
âœ… Se eliminan en cascada si se elimina la incidencia

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“± INTERFAZ WEB (test-cleverclouD.html):

SecciÃ³n "Comentarios en Incidencias":
- Input: ID de incidencia
- TextArea: Contenido del comentario
- BotÃ³n: "AÃ±adir Comentario" â†’ POST a /api/comentarios-incidencias
- BotÃ³n: "Ver Comentarios" â†’ GET /api/comentarios-incidencias/incidencia/{id}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ TODO ESTÃ FUNCIONANDO:

âœ… Tabla de comentarios creada en CleverCloud
âœ… Backend compilado con endpoints de comentarios
âœ… Frontend (test-cleverclouD.html) actualizado
âœ… Puedes crear, listar y eliminar comentarios
âœ… Todo se guarda en CleverCloud MySQL persistentemente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO SIGUIENTE:

Abre test-cleverclouD.html en navegador y:
1. Registra usuario
2. Crea producto
3. Crea incidencia
4. AÃ±ade comentarios a la incidencia
5. Â¡Todos los comentarios se guardan en CleverCloud!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
