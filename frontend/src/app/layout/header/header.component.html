<header class="c-header">
    <a routerLink="/" class="c-header__logo" title="Volver a inicio">
        <i class="fas fa-tools" aria-hidden="true"></i>
        <span>ReparaFácil</span>
    </a>

    <!-- Navegación normal -->
    <nav class="c-header__nav" [class.c-header__nav--open]="menuOpen" *ngIf="!isSearchPage">
        <a routerLink="/" class="c-header__nav-item" (click)="closeMenu()">Inicio</a>
        <a routerLink="/perfil" class="c-header__nav-item" (click)="closeMenu()">Perfil</a>
        <a routerLink="/buscar" class="c-header__nav-item" (click)="closeMenu()">Productos</a>
        <a routerLink="/about" class="c-header__nav-item" (click)="closeMenu()">Sobre nosotros</a>
    </nav>

    <!-- Buscador en página de búsqueda -->
    <div class="c-header__search" *ngIf="isSearchPage">
        <input
          type="text"
          class="c-header__search-input"
          placeholder="Busca el electrodoméstico o aparato a reparar..."
          [(ngModel)]="searchQuery"
          (keypress)="onSearchKeyPress($event)"
        >
        <button class="c-header__search-button" (click)="onSearch()">
            <img src="/assets/icons/buscar.avif" alt="Buscar">
        </button>
    </div>

    <!-- Contenedor derecho: usuario + hamburguesa -->
    <div class="c-header__right">
        <!-- Imagen de usuario como botón -->
        <button
            class="c-header__user-btn"
            routerLink="/login"
            title="Ir a iniciar sesión"
            type="button"
        >
            <img class="c-header__user-btn_img" src="/assets/icons/UsuarioBlanco.avif" alt="Perfil de usuario">
        </button>

        <!-- Botón hamburguesa -->
        <button
            class="c-header__hamburger"
            [class.c-header__hamburger--open]="menuOpen"
            (click)="toggleMenu()"
            type="button"
            aria-label="Menú de navegación"
            *ngIf="!isSearchPage"
        >
            <span class="c-header__line"></span>
            <span class="c-header__line"></span>
            <span class="c-header__line"></span>
        </button>
    </div>
</header>
